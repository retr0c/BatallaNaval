ScreenManager:
    id: screen_manager
    IniciarSesionScreen:
        name: "iniciar_sesion"
    CrearCuentaScreen:
        name: "crear_cuenta"
    MenuPrincipalScreen:
        name: "menu_principal"
    JuegoScreen:
        name: "juego"

<IniciarSesionScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: 20
        spacing: 10
        TextInput:
            id: usuario_login
            hint_text: "Usuario"
            multiline: False
        TextInput:
            id: contrase침a_login
            hint_text: "Contrase침a"
            password: True
            multiline: False
        Button:
            text: "Iniciar Sesi칩n"
            on_press: root.iniciar_sesion(usuario_login.text, contrase침a_login.text)
        Button:
            text: "Crear Cuenta"
            on_press: root.manager.current = "crear_cuenta"

<CrearCuentaScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: 50
        spacing: 20
        Label:
            text: "游닇 Crear Cuenta"
            font_size: 32
            size_hint_y: None
            height: 60
        TextInput:
            id: usuario_input
            hint_text: "Nuevo Usuario"
            multiline: False
        TextInput:
            id: contrase침a_input
            hint_text: "Contrase침a"
            password: True
            multiline: False
        Button:
            text: "Crear Cuenta"
            on_press: root.crear_cuenta(usuario_input.text, contrase침a_input.text)
        Button:
            text: "Volver a Iniciar Sesi칩n"
            on_press: root.manager.current = "iniciar_sesion"

<MenuPrincipalScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: 50
        spacing: 20
        Label:
            text: "游꿡 Men칰 Principal"
            font_size: 32
            size_hint_y: None
            height: 60
        Button:
            text: "Jugar"
            on_press: root.iniciar_juego()
        # Puedes definir un TextInput para la nueva contrase침a si lo deseas:
        TextInput:
            id: new_password_input
            hint_text: "Nueva contrase침a (para cambiar)"
            multiline: False
            size_hint_y: None
            height: 40
        Button:
            text: "Cambiar Contrase침a"
            on_press: root.cambiar_contrase침a()
        Button:
            text: "Cerrar Sesi칩n"
            on_press: root.cerrar_sesion()

<JuegoScreen>:
    ScrollView:
        do_scroll_x: False
        do_scroll_y: True

        BoxLayout:
            orientation: "vertical"
            padding: 20
            spacing: 10
            size_hint_y: None
            height: self.minimum_height

            BoxLayout:
                size_hint_y: None
                height: 400
                AnchorLayout:
                    anchor_x: "center"
                    anchor_y: "center"
                    Label:
                        id: campo_label
                        text: "Campo de juego se mostrar치 aqu칤."
                        font_size: 20
                        markup: True
                        text_size: self.width, None
                        size_hint_y: None
                        height: self.texture_size[1]
                        halign: "center"
                        valign: "middle"

            BoxLayout:
                orientation: "vertical"
                size_hint_y: None
                height: self.minimum_height
                spacing: 5

                TextInput:
                    id: ancho_input
                    hint_text: "Ancho del campo"
                    multiline: False
                    size_hint_y: None
                    height: 40

                TextInput:
                    id: alto_input
                    hint_text: "Alto del campo"
                    multiline: False
                    size_hint_y: None
                    height: 40

                TextInput:
                    id: naves_input
                    hint_text: "N칰mero de naves"
                    multiline: False
                    size_hint_y: None
                    height: 40

            Button:
                text: "Iniciar Juego"
                size_hint_y: None
                height: 50
                on_press: root.iniciar_juego()

            BoxLayout:
                orientation: "horizontal"
                spacing: 5
                size_hint_y: None
                height: 50

                TextInput:
                    id: fila_input
                    hint_text: "Fila"
                    multiline: False

                TextInput:
                    id: columna_input
                    hint_text: "Columna"
                    multiline: False

            Button:
                text: "Disparar"
                size_hint_y: None
                height: 50
                on_press: root.disparar()

            Button:
                text: "Salir del Juego"
                size_hint_y: None
                height: 50
                on_press: root.salir_juego()

